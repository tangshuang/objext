<!DOCTYPE html>

<script src="../dist/objext.js"></script>
<script>
const { Objext } = window.objext
let data = {
  name: 'tomy',
  age: 10,
  parents: ['tomsen', 'lidia'],
  head: {
    hair: {
      color: 'black',
    },
    eyes: ['left', 'right'],
    mouth: {
      size: 'big',
    },
  },
  body: {
    hands: [
      {
        which: 'left',
        size: 30,
      },
      {
        which: 'right',
        size: 32,
      },
    ],
    feet: 2,
  },
}
let objx = new Objext(data)
objx.$watch('body.feet', (e, newValue, oldValue) => {
  console.log(e, newValue, oldValue)
})

function log() {
  console.log(objx)
}

function inherit() {
  let parent = {
    name: 'tomy',
    feet: ['left', 'right'],
    body: {
      head: 1,
      hands: 2,
      neck: 1,
    },
  }
  let sub = inheritOf(parent)
  sub.name = 'nike'
  console.log('inherit:', sub)


  let some = inheritOf({
    name: 'tomy',
    age: 10,
    obj: {
      child: 'noor',
    },
    arr: [1, 2, 3],
  })
  console.log(some)
  console.log(valueOf(some))
}
</script>

<div>
  <p>在console中查看结果</p>
  <p><button onclick="log()">查看整个obj</button></p>
  <p><button onclick="inherit()">测试继承</button></p>
</div>